<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario de Cliente</title>
</head>
<body>
  <h1>Crear Cliente con Imágenes</h1>
  <form id="clientForm" enctype="multipart/form-data">
    <label for="codigo">Código:</label>
    <input type="number" id="codigo" name="codigo" required><br><br>

    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre" required><br><br>

    <label for="apellido1">Apellido 1:</label>
    <input type="text" id="apellido1" name="apellido1" required><br><br>

    <label for="apellido2">Apellido 2:</label>
    <input type="text" id="apellido2" name="apellido2"><br><br>

    <label for="identificacion">Identificación:</label>
    <input type="text" id="identificacion" name="identificacion" required><br><br>

    <label for="fechaNacimiento">Fecha de Nacimiento:</label>
    <input type="date" id="fechaNacimiento" name="fechaNacimiento" required><br><br>

    <label for="calle">Calle:</label>
    <input type="text" id="calle" name="calle"><br><br>

    <label for="portal">Portal:</label>
    <input type="number" id="portal" name="portal"><br><br>

    <label for="piso">Piso:</label>
    <input type="text" id="piso" name="piso"><br><br>

    <label for="escalera">Escalera:</label>
    <input type="text" id="escalera" name="escalera"><br><br>

    <label for="codigoPostal">Código Postal:</label>
    <input type="number" id="codigoPostal" name="codigoPostal" required><br><br>

    <label for="ciudad">Ciudad:</label>
    <input type="text" id="ciudad" name="ciudad" required><br><br>

    <label for="provincia">Provincia:</label>
    <input type="text" id="provincia" name="provincia" required><br><br>

    <label for="poblacion">Población:</label>
    <input type="text" id="poblacion" name="poblacion" required><br><br>

    <label for="images">Selecciona Imágenes (hasta 4):</label>
    <input type="file" id="images" name="images" multiple><br><br>

    <button type="submit">Crear Cliente</button>
  </form>

  <script>
    document.getElementById('clientForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const formData = new FormData(e.target);

      try {
        const response = await fetch('http://localhost:3000/client', {
          method: 'POST',
          body: formData
        });

        const data = await response.json();
        alert('Cliente creado con ID: ' + data.id);
      } catch (error) {
        console.error(error);
        alert('Error al crear el cliente');
      }
    });
  </script>
</body>
</html>
